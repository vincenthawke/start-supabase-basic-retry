import{u as w,r,i as b,j as s}from"./main-BiHJe83k.js";function y(t){const a=w();return r.useCallback(async(...n)=>{try{const e=await t(...n);if(b(e))throw e;return e}catch(e){if(b(e))return e.options._fromLocation=a.state.location,a.navigate(a.resolveRedirect(e).options);throw e}},[a,t])}function j(t){const[a,n]=r.useState(),[e,l]=r.useState(),[m,c]=r.useState(),[x,h]=r.useState(),[p,o]=r.useState("idle"),g=r.useCallback(async d=>{var u;o("pending"),n(Date.now()),l(d);try{const i=await t.fn(d);return await((u=t.onSuccess)==null?void 0:u.call(t,{data:i})),o("success"),c(void 0),h(i),i}catch(i){o("error"),c(i)}},[t.fn]);return{status:p,variables:e,submittedAt:a,mutate:g,error:m,data:x}}function k({actionText:t,onSubmit:a,status:n,afterSubmit:e}){return s.jsx("div",{className:"fixed inset-0 bg-white dark:bg-black flex items-start justify-center p-8",children:s.jsxs("div",{className:"bg-white dark:bg-gray-900 p-8 rounded-lg shadow-lg",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:t}),s.jsxs("form",{onSubmit:l=>{l.preventDefault(),a(l)},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-xs",children:"Username"}),s.jsx("input",{type:"email",name:"email",id:"email",className:"px-2 py-1 w-full rounded border border-gray-500/20 bg-white dark:bg-gray-800"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-xs",children:"Password"}),s.jsx("input",{type:"password",name:"password",id:"password",className:"px-2 py-1 w-full rounded border border-gray-500/20 bg-white dark:bg-gray-800"})]}),s.jsx("button",{type:"submit",className:"w-full bg-cyan-600 text-white rounded py-2 font-black uppercase",disabled:n==="pending",children:n==="pending"?"...":t}),e||null]})]})})}export{k as A,y as a,j as u};
