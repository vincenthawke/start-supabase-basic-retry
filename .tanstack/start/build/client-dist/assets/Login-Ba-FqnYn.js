import{u as i,j as s,l as u,s as l}from"./main-BiHJe83k.js";import{u as o,a as m,A as d}from"./Auth-Bb1Mtbrj.js";function p(){const n=i(),a=o({fn:u,onSuccess:async e=>{var t;if(!((t=e.data)!=null&&t.error)){await n.invalidate(),n.navigate({to:"/"});return}}}),r=o({fn:m(l)});return s.jsx(d,{actionText:"Login",status:a.status,onSubmit:e=>{const t=new FormData(e.target);a.mutate({data:{email:t.get("email"),password:t.get("password")}})},afterSubmit:a.data?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-red-400",children:a.data.message}),a.data.error&&a.data.message==="Invalid login credentials"?s.jsx("div",{children:s.jsx("button",{className:"text-blue-500",onClick:e=>{const t=new FormData(e.target.form);r.mutate({data:{email:t.get("email"),password:t.get("password")}})},type:"button",children:"Sign up instead?"})}):null]}):null})}export{p as L};
